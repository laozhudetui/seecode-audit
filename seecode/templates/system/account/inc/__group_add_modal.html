{% load get_perms %}
<div class="modal fade" id="modal-default">
  <div class="modal-dialog">
    <div class="modal-content" style="width: 680px;">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title">添加账号组</h4>
      </div>
      <form class="form-horizontal" action="/sys/group/" method="post" enctype="multipart/form-data">
        {% csrf_token %}
        <div class="modal-body">
          <!-- Horizontal Form -->
          <!-- form start -->
          <div class="box-body">
            <div class="form-group">
              <label for="perm-name" class="col-sm-2 control-label">名称(*)：</label>
              <div class="col-sm-9">
                <input type="text" name="name" required class="form-control" id="perm-name">
              </div>
            </div>
            <div class="form-group" style="font-size: 12px; padding-top: 20px">
              <div class="nav-tabs-custom" style="margin-bottom: 0px">
                <ul class="nav nav-tabs">
                  <li class="active"><a href="#sys" data-toggle="tab">系统设置</a></li>
                  <li><a href="#pro" data-toggle="tab">项目管理</a></li>
                  <li><a href="#task" data-toggle="tab">任务管理</a></li>
                  <li><a href="#engine" data-toggle="tab">引擎管理</a></li>

                  <li><a href="#node" data-toggle="tab">节点管理</a></li>
                </ul>
                <div class="tab-content">
                  <!-- base -->
                  <div class="tab-pane active" id="sys">
                    <div class="table-responsive">
                      <table class="table" width="99%">
                        {% for item in modules.sys%}
                        <tr>
                          <th style="width:100px; border-top:0px; text-align: right">
                            <div class="checkbox">{{item.name}}：</div>
                          </th>
                          <td align="left" style="border-top:0px;
                                                                border-bottom: 1px;">
                            <div class="checkbox">
                              {%for perm in item.id|get_perms%}
                              <label>
                                <input class="flat-red" type="checkbox"
                                       value="{{ perm.id }}"
                                       name="perms">{{ perm.name}}
                                &nbsp; &nbsp;&nbsp; &nbsp;
                              </label>
                              {%endfor%}
                            </div>
                          </td>
                        </tr>
                        {%endfor%}
                      </table>
                    </div>
                  </div>
                  <!-- /#sys -->

                  <div class="tab-pane" id="pro">
                    <div class="table-responsive">
                      <table class="table" width="99%">
                        {% for item in modules.project%}
                        <tr>
                          <th style="width:100px; border-top:0px; text-align: right">
                            <div class="checkbox">{{item.name}}：</div>
                          </th>
                          <td align="left" style="border-top:0px;
                                                                border-bottom: 1px;">
                            <div class="checkbox">
                              {%for perm in item.id|get_perms%}
                              <label>
                                <input class="flat-red" type="checkbox"
                                       value="{{ perm.id }}"
                                       name="perms">{{ perm.name}}
                                &nbsp; &nbsp;&nbsp; &nbsp;
                              </label>

                              {%endfor%}
                            </div>
                          </td>
                        </tr>
                        {%endfor%}
                      </table>
                    </div>
                  </div>
                  <!-- /#pro -->

                  <div class="tab-pane" id="task">
                    <div class="table-responsive">
                      <table class="table" width="99%">
                        {% for item in modules.task%}
                        <tr>
                          <th style="width:100px; border-top:0px; text-align: right">
                            <div class="checkbox">{{item.name}}：</div>
                          </th>
                          <td align="left" style="border-top:0px;
                                                                border-bottom: 1px;">
                            <div class="checkbox">
                              {%for perm in item.id|get_perms%}
                              <label>
                                <input class="flat-red" type="checkbox"
                                       value="{{ perm.id }}"
                                       name="perms">{{ perm.name}}
                                &nbsp; &nbsp;&nbsp; &nbsp;
                              </label>

                              {%endfor%}
                            </div>
                          </td>
                        </tr>
                        {%endfor%}
                      </table>
                    </div>
                  </div>
                  <!-- /#task -->

                  <div class="tab-pane" id="engine">
                    <div class="table-responsive">
                      <table class="table" width="99%">
                        {% for item in modules.engine%}
                        <tr>
                          <th style="width:100px; border-top:0px; text-align: right">
                            <div class="checkbox">{{item.name}}：</div>
                          </th>
                          <td align="left" style="border-top:0px;
                                                                border-bottom: 1px;">
                            <div class="checkbox">
                              {%for perm in item.id|get_perms%}
                              <label>
                                <input class="flat-red" type="checkbox"
                                       value="{{ perm.id }}"
                                       name="perms">{{ perm.name}}
                                &nbsp; &nbsp;&nbsp; &nbsp;
                              </label>

                              {%endfor%}
                            </div>
                          </td>
                        </tr>
                        {%endfor%}
                      </table>
                    </div>
                  </div>
                  <!-- /#engine -->

                  <div class="tab-pane" id="node">
                    <div class="table-responsive">
                      <table class="table" width="99%">
                        {% for item in modules.node%}
                        <tr>
                          <th style="width:100px; border-top:0px; text-align: right">
                            <div class="checkbox">{{item.name}}：</div>
                          </th>
                          <td align="left" style="border-top:0px;
                                                                border-bottom: 1px;">
                            <div class="checkbox">
                              {%for perm in item.id|get_perms%}
                              <label>
                                <input class="flat-red" type="checkbox"
                                       value="{{ perm.id }}"
                                       name="perms">{{ perm.name}}
                                &nbsp; &nbsp;&nbsp; &nbsp;
                              </label>

                              {%endfor%}
                            </div>
                          </td>
                        </tr>
                        {%endfor%}
                      </table>
                    </div>
                  </div>
                  <!-- /#node -->

                </div>
                <!-- /.tab-content -->
              </div>
            </div>
            <!-- /.box-footer -->
          </div>
          <div class="modal-footer" style="border: 0px">
            <button type="submit" class="btn btn-primary" id="submit-rule" style="width: 80px">创建</button>

          </div>
        </div>
      </form>
    </div>
    <!-- /.modal-content -->
  </div>
  <!-- /.modal-dialog -->
</div>
